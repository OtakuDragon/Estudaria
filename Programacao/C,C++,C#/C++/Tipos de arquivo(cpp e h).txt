Tipos de arquivo(cpp e h)

O C++ tem dois tipos de arquivos .cpp e .h, os
arquivos .h são chamados headers e são um tipo
especial de arquivo utilizados para a declaração de
definições externas de funções e membros.

Definições externas são como declarações abstratas
da orientação a objeto.

Declarações externas de funções são os prototipos de
funções, que podem ou não utilizar o modificador se não
declarado ele é implicito.

Definições externas de membros são declarações de variaveis
sem atribuição de valor e com o modificador extern.

Arquivos .cpp podem ser implementações de headers se eles
incluirem o header e implementarem os prototipos e variaveis
extern, membros ou funções externas só podem possuir uma
implementação ou um erro de compilação ocorrera.

Para que um arquivo .cpp utilize a funcionalidade descrita por um
header ele não precisa importar a sua implementação, apenas 
importar o header é o suficiente, se o membro externo utilizado
possuir uma implementação declarada ela será chamada, senão
um erro ocorrerá.

=======================================================
ex:

//Header

#pragma once

#include <iostream>
using namespace std;

//Declaração de variavel externa
extern int digit;
//Declaração de prototipo, a palavra extern é opcional para prototipos.
extern int sum(int i3, int i2);
//Fim do header
--------------------------------------------------------------------------------------------
//Implementação do header

//Importa o header
#include "Header.h"
//Declara a variavel externa
int digit = 1;
//Implementa o prototipo do header
int sum(int i1, int i2){
	return i1 + i2;
}
//Fim da implementação do header
--------------------------------------------------------------------------------------------------
//Utilização do header
//Importa apenas o header
#include "Header.h"

int main(){
	//Chama a função e variavel externa sem conhecer a implementação.
	cout << sum(1, 3) << name << endl;

	getchar();


	return 0;
	
}
===========================================================
Organização de classes/struct

Por convenção a declaração da classe/struct deve ser separada
com a definição da classe/struct em um header e a implementação da classe
em um arquivo cpp, e para utilizar a classe apenas a importação do header
é feita.

ex:
//Definição dos membros construtores destrutores e funções da classe
// Mammal.h
#pragma once
class Mammal{
	protected:
	int hp;
	double speed;
	public:
	Mammal();
	~Mammal();
	void breathe();
	virtual void talk();
	// pure virtual function,
	virtual void walk() = 0;
};
//Implementação dos membros construtores destrutores e funções da classe
// Mammal.cpp
#include <iostream>
using namespace std;
#include "Mammal.h"
Mammal::Mammal() // Notice use of :: (scope resolution operator) {
	hp = 100;
	speed = 1.0;
	cout << "A mammal is created!" << endl;
}
Mammal::~Mammal(){
	cout << "A mammal has fallen!" << endl;
}
void Mammal::breathe(){
	cout << "Breathe in.. breathe out" << endl;
}
void Mammal::talk(){
cout << "Mammal talk.. override this function!" << endl;
}
============================================================
Macro pragma once

Uma coisa comum que pode acontecer quando um arquivo
importa(include) vários headers é que um mesmo header pode
ser importado mais de uma vez em arquivos diferentes.

Como por exemplo quando várias classes extendem uma superclasse
e mais de uma superclasse é incluida no arquivo o header da superclasse
é incluido duas vezes.

Quando isto acontece um erro de compilação acontece porque
o compilador não sabe qual header dos incluidos utilizar, para
resolver este problema é uma boa pratica adicionar o macro
pragma once na primeira linha de todos os headers isto impede
que o header seja importado mais que uma vez mesmo que ele seja
declarado multiplas vezes, a primeira será utilizada.



 